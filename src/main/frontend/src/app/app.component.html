<div class="container">
	<div class="card">
		<h4 class="card-header">
			<span class="font-weight-bold">User Registration</span>
		</h4>
		<div class="card-body">
			<div *ngIf="errorMessage">
				<div *ngFor="let message of errorMessage" class="text-left alert alert-danger" role="alert">
					{{message}}
				</div>
			</div>
			<div *ngIf="successMessage" class="text-left alert alert-success" role="alert">
				{{successMessage}}
			</div>
			<form (ngSubmit)="onSubmit()" #userForm="ngForm">
				<div class="form-group">
					<label for="username">Name</label> 
					<input id="username" class="form-control" name="name" type="text" required="required" [(ngModel)]="user.name" placeholder="Enter name" />
					<small id="usernameHelp" class="form-text text-muted">Type at least 5 characters</small>
				</div>
				<div class="form-group">
					<label for="useremail">Email</label>
					<input id="useremail" class="form-control" name="email" type="email" required="required" [(ngModel)]="user.email" placeholder="Enter email" />
					<small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
				</div>
				<div class="form-group">
					<label for="userpassword">Password</label>
					<input id="userpassword" class="form-control" name="password" type="password" required="required" [(ngModel)]="user.password" placeholder="Enter password" />
					<small id="passwordHelp" class="form-text text-muted">Password should contain at least 8 characters and include at least 1 number, 1 uppercase and 1 lowercase character</small>
				</div>
				<div>
					<input type="submit" class="btn btn-primary" value="Register" />
				</div>
			</form>
		</div>
	</div>
	
	<br/>
	<br/>

	<div class="card">
		<h4 class="card-header">
			<span class="font-weight-bold">List Users</span>
		</h4>
		<div class="card-body">
			<ul class="list-group">
				<li *ngFor="let user of users" [class.selected]="user === selectedUser" class="list-group-item float-left">
					{{user.name}}
					<a href="#" role="button" class="btn btn-secondary btn-sm float-right" (click)="onSelect(user)">Details</a>
				</li>
			</ul>
		</div>
	</div>
	
	<br/>
	<br/>

	<app-user-detail [user]="selectedUser"></app-user-detail>
</div>
